<h1 mat-dialog-title>Create Compliance Job</h1>
<mat-dialog-content>
  <mat-stepper labelPosition="bottom" #stepper>
    <mat-step label="Production System">
      <div class="step">
        <app-select-production-sytem
          (selectedProductionSystem)="productionSystemSelected($event)"></app-select-production-sytem>
      </div>
    </mat-step>
    <mat-step label="Refinement">
      <div class="step">
        <app-refinement-plugins (pluginAdded)="refinementPluginAdded($event)"
                                (pluginRemoved)="refinementPluginRemoved($event)"></app-refinement-plugins>
      </div>
    </mat-step>
    <mat-step label="Compliance Rules">
      <div class="step">
        <app-compliance-rule-configuration
          (selectedComplianceRuleConfigurations)="complianceRulesSelected($event)"></app-compliance-rule-configuration>
      </div>
    </mat-step>
    <mat-step label="Checking">
      <div class="step">
        <app-plugin-usage [pluginType]="'ISSUE_CHECKING'"
                          (selectedPluginIdentifierEvent)="saveCheckingPluginConfiguration($event)"></app-plugin-usage>
      </div>
    </mat-step>
    <mat-step  label="Compliance Issue Fixing">
      <app-issue-fixing #fixingComponent (configurationsChanged)="this.saveIssueFixingConfigurations($event)" [complianceRuleConfigurationsSub]="this.shareNewComplianceRuleConfigurationEvents.asObservable()"></app-issue-fixing>
    </mat-step>
    <mat-step label="Validation">
      <div class="step">
        <app-validation-plugins></app-validation-plugins>
      </div>
    </mat-step>
    <mat-step label="Reporting">
      <div class="step">
        <app-reporting-plugins></app-reporting-plugins>
      </div>
    </mat-step>
    <mat-step>
      <div class="step">
        <ng-template matStepLabel>Done</ng-template>
        <p>You are now done.</p>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="stepper.reset()">Reset</button>
        </div>
      </div>
    </mat-step>
  </mat-stepper>
</mat-dialog-content>
<div mat-dialog-actions>
  <button mat-raised-button mat-dialog-close>Cancel</button>
  <button mat-raised-button color="primary" cdkFocusInitial (click)="storeComplianceJob()">OK</button>
</div>
